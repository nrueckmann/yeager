{if $entrymaskInfo.FOLDER}
	<!-- PANEL GENERAL -->
	<div class="ipanel" yg_panel="true">
		<div class="panelheadernocollaps headline1">
			<a class="opened">{$itext.TXT_GENERAL|default:'$TXT_GENERAL'}</a>
		</div>

		<div class="panelcontent">
			<div class="mk_contentgroup">

				<!-- TRACELINE //-->
				<div class="cntblockcontainernohover" onmouseover="$K.yg_showActions(this);">
					<div class="cntblock">
						<table class="gridfixed" cellspacing="0" cellpadding="0">
							<tr>
								<td colspan="8" class="col1 traceline">
									{assign var='padding' value=0}
									{section name='parents' loop=$objectparents step=-1}
										<div class="modified" style="padding-left: {$padding}px;">{if $smarty.section.parents.iteration > 1}<div class="treedots"></div>{/if}<div class="icon{if $objectparents[parents][0].FOLDER}folderopen{else}{$objecttype}{/if}"></div>{$objectparents[parents][0].NAME}</div>
										{if $smarty.section.parents.iteration==1}
											{assign var='padding' value=9}
										{else}
											{assign var='padding' value=$padding+15}
										{/if}
									{/section}
									<div class="modified" style="padding-left: {$padding}px;">
										{if $smarty.section.parents.loop+1 > 1}<div class="treedots"></div>{/if}
										<div class="iconfolder"></div>
										<span yg_property="name" yg_type="entrymask" yg_id="{$entrymaskInfo.OBJECTID}-entrymask">{$entrymaskInfo.NAME}</span>
									{if ($objecttype != "template")}</div>{/if}
								</td>
							</tr>
						</table>
					</div>
				</div>
				<!-- TRACELINE END //-->

				<!-- TEXT //-->
				<div class="cntblockcontainernohover" onmouseover="$K.yg_showActions(this);">
					<div class="cntblock">
						<table class="gridfixed" cellspacing="0" cellpadding="0">
							<tr>
								<td colspan="8" class="col1">
									<span class="label">{$itext.TXT_TITLE|default:'$TXT_TITLE'}</span>
									<div class="textbox" yg_form="textbox">
										<input tabindex="1" yg_onchange="setObjectProperty" yg_id="{$entrymaskInfo.OBJECTID}-entrymask" yg_type="entrymask" yg_property="name" type="text" name="wid_{$win_no}_entrymask_name" value="{$entrymaskInfo.NAME}" maxlength="64" />
									</div>
								</td>
							</tr>
						</table>
					</div>
				</div>

			</div>
		</div>
	</div>
{else}
	<!-- PANEL GENERAL -->
	<div class="ipanel" yg_panel="true">
		<div class="panelheadernocollaps headline1">
			<a class="opened">{$itext.TXT_GENERAL|default:'$TXT_GENERAL'}</a>
		</div>

		<!-- TRACELINE //-->
		<div class="cntblockcontainernohover" onmouseover="$K.yg_showActions(this);">
			<div class="cntblock">
				<table class="gridfixed" cellspacing="0" cellpadding="0">
					<tr>
						<td colspan="8" class="col1 traceline">
							{assign var='padding' value=0}
							{section name='parents' loop=$objectparents step=-1}
								<div class="modified" style="padding-left: {$padding}px;">{if $smarty.section.parents.iteration > 1}<div class="treedots"></div>{/if}<div class="icon{if $objectparents[parents][0].FOLDER}folderopen{else}{$objecttype}{/if}"></div>{$objectparents[parents][0].NAME}</div>
								{if $smarty.section.parents.iteration==1}
									{assign var='padding' value=9}
								{else}
									{assign var='padding' value=$padding+15}
								{/if}
							{/section}
							<div class="modified" style="padding-left: {$padding}px;">
								{if $smarty.section.parents.loop+1 > 1}<div class="treedots"></div>{/if}
								<div class="icon{if $objectparents[parents][0].FOLDER}folder{else}{$objecttype}{/if}"></div>
								<span yg_property="name" yg_type="{$objecttype}" yg_id="{$entrymaskInfo.OBJECTID}-entrymask">{$entrymaskInfo.NAME}</span>
							{if ($objecttype != "template")}</div>{/if}
						</td>
					</tr>
				</table>
			</div>
		</div>
		<!-- TRACELINE END //-->

		<div class="panelcontent">
			<div class="mk_contentgroup">
				<div class="cntblockcontainernohover">
					<div class="cntblock">
						<table class="gridfixed" cellspacing="0" cellpadding="0">
							<tr>
								<td class="col2">
									<span class="label">{$itext.TXT_TITLE|default:'$TXT_TITLE'}</span>
									<div class="textbox" yg_form="textbox">
										<input tabindex="1" onchange="$K.yg_setEdited(this);$K.yg_hilite('entrymask', '{$entrymaskInfo.OBJECTID}-entrymask', 'name', true);" type="text" name="name" yg_id="{$entrymaskInfo.OBJECTID}-entrymask" yg_type="entrymask" yg_property="name" value="{$entrymaskInfo.NAME}" />
									</div>
								</td>
								<td class="col2">
									<span class="label">{$itext.TXT_CODE|default:'$TXT_CODE'}</span>
									<div class="textbox" yg_form="textbox">
										<input mandatory="mandatory" tabindex="1" yg_property="code" yg_type="{$objecttype}" yg_id="{$entrymaskInfo.OBJECTID}-entrymask" onchange="$K.yg_setEdited(this);$K.yg_hilite('entrymask', '{$entrymaskInfo.OBJECTID}-entrymask', 'name', true);" type="text" name="code" value="{if $entrymaskInfo.CODE!='NONE'}{$entrymaskInfo.CODE}{/if}" />
									</div>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- ENDE PANEL GENERAL -->


	<!-- PANEL ELEMENTS -->
	<div class="ipanel" yg_panel="true">
		<div class="panelheadernocollaps headline1">
			<a class="opened">{$itext.TXT_FORMFIELDS|default:'$TXT_FORMFIELDS'}</a>
			<!-- actions //-->
			<div class="actions">
				<div class="actionbutton" onmouseover="$K.yg_hoverActions(this);"></div>
				<div class="actionhover" onmouseover="$K.actionhover=true;" onmouseout="$K.actionhover=false;">
					<div class="actionborder"></div>
					<a class="add" onclick="new $K.yg_wndobj({literal}{{/literal} config: 'FORMFIELD_ADD', loadparams: {literal}{{/literal} opener_reference: 'wid_{$win_no}' {literal}} }{/literal});" onmouseover="$K.yg_showHelp('{$itext.TXT_FORMFIELD_ADD}');" title="{$itext.TXT_FORMFIELD_ADD}" onmouseout="$K.yg_showHelp(false);" onfocus="this.blur();"></a>
					<div class="actionborder"></div>
				</div>
			</div>
			<!-- end actions //-->
		</div>
		<div class="panelcontent">
			<div class="mk_contentgroup entrymaskcontent" yg_multiselect="true">

				<div id="wid_{$win_no}_formfields">
					<div id="wid_{$win_no}_formfields_inner">

						<ul yg_widget="type:sortable;accepts:formfield;objecttype:formfield;" id="wid_{$win_no}_formfields_list" class="formfield_list objectlist" onmouseup="$K.yg_customSortableOnDrop(this.id);" yg_id="{$entrymaskInfo.OBJECTID}-formfield" yg_type="formfield" yg_accepts="formfield">
							{section name='w' loop=$entrymasks}
								{include file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info=$entrymasks[w] item_info_ID=$entrymasks[w].ID item_info_FORMFIELD=$entrymasks[w].FORMFIELD item_index=$smarty.section.w.iteration}
							{/section}
						</ul>

					</div>
				</div>
				<div id="wid_{$win_no}_{$page}_addmarker" onmousedown="Event.stop(event);" class="cntblockadd mk_fillcontentspace" yg_accepts="formfield" yg_type="formfield" onmouseup="$K.yg_customSortableOnDrop('wid_{$win_no}_formfields_list');">
					<div class="cntblockadd" onclick="new $K.yg_wndobj({literal}{{/literal} config: 'FORMFIELD_ADD', loadparams: {literal}{{/literal} opener_reference: 'wid_{$win_no}' {literal}} }{/literal});">
						<div class="selectionmarker">{$itext.TXT_FORMFIELD_ADD}</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- END PANEL ELEMENTS -->


	<!-- BOTTOMLINE //-->
	<table cellspacing="0" cellpadding="0" class="windowtable ywindowbottom">
		<tr>
			<td class="ywindow_leftbt"></td>
			<td class="ywindow_midbottom"><div class="button" tabindex="1"><a  class="stdbutton"><div onclick="$K.yg_saveEntryMaskFormfields(this);" class="wrapper"><nobr>{$itext.TXT_SAVE|default:'$TXT_SAVE'}</nobr></div></a></div></td>
			<td class="ywindow_rightbt"></td>
		</tr>
	</table>
	<!-- END BOTTOMLINE //-->

	<script language="javascript">
		// Prepare Prototype/Smarty Templates
		{include assign="js_template_formfield_1" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=1 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_2" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=2 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_3" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=3 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_4" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=4 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_5" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=5 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_6" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=6 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_7" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=7 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_8" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=8 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_9" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=9 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_10" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=10 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_11" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=11 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_12" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=12 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_13" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=13 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_14" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=14 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_15" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=15 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}
		{include assign="js_template_formfield_16" file="$approot/ui/html/tabs/entrymask_config/formfield.inc.html" item_info_ID='#<<new_id>>' item_info_FORMFIELD=16 item_info_VALUE01=$itext.TXT_NEW_OBJECT item_index='#<<new_idx>>' noscript=true}

		formfieldTemplates = new Array();
		formfieldTemplates[1] = '{$js_template_formfield_1|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[2] = '{$js_template_formfield_2|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[3] = '{$js_template_formfield_3|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[4] = '{$js_template_formfield_4|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[5] = '{$js_template_formfield_5|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[6] = '{$js_template_formfield_6|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[7] = '{$js_template_formfield_7|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[8] = '{$js_template_formfield_8|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[9] = '{$js_template_formfield_9|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[10] = '{$js_template_formfield_10|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[11] = '{$js_template_formfield_11|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[12] = '{$js_template_formfield_12|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[13] = '{$js_template_formfield_13|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[14] = '{$js_template_formfield_14|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[15] = '{$js_template_formfield_15|strip|addslashes}'.replace(/xscript/g,'script');
		formfieldTemplates[16] = '{$js_template_formfield_16|strip|addslashes}'.replace(/xscript/g,'script');

		$K.windows['wid_{$win_no}'].formfieldTemplates = formfieldTemplates;
	</script>

{/if}
